<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" type="text/css" th:href="@{../css/styleCSS.css}"/>
    <!--    Style for map-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="//unpkg.com/leaflet-gesture-handling/dist/leaflet-gesture-handling.min.css"
          type="text/css">
    <script src="//unpkg.com/leaflet-gesture-handling"></script>
</head>
<body>
<!--The div element for the map -->
<div id="googleMaps">
    <div id="map"></div>

    <ul style="display: none" th:each="mapData:${mapData}">
        <li  class="latArray" th:text="${mapData.getLatitude()}"></li>
    </ul>

    <ul style="display: none" th:each="mapData:${mapData}">
        <li  class="lonArray" th:text="${mapData.getLongitude()}"></li>
    </ul>


</div>
<script src="http://www.openlayers.org/api/OpenLayers.js"></script>
<script>

    let latArray = document.getElementsByClassName('latArray');
    let lonArray = document.getElementsByClassName('lonArray');

    var map = L.map('map').setView([51.505, -0.09], 13);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    for(let i in latArray.length)
    L.marker([51.5, -0.09]).addTo(map)
        .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
        .openPopup();

</script>
</body>
</html>